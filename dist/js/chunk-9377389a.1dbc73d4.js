(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9377389a"],{"0e21":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"\n.org-table-content{padding:1rem 1rem 0 2rem\n}\n.org-table-content .el-table thead{color:#000\n}\n.org-table-content .pagenation-style{display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:1rem 0 2rem 0\n}\n.org-table-content .pagenation-magin{width:80%;margin-left:10px\n}\n.org-table-content .el-input__icon{line-height:1.875rem!important;width:1.25rem\n}\n.org-table-content .el-select .el-input__inner{margin-top:.1rem;height:1.875rem;padding-right:1.25rem;font-size:8px\n}\n.org-table-content .el-table--border td:first-child .cell,.org-table-content .el-table--border th:first-child .cell{padding-left:20px\n}\n.org-table-content .el-table .cell,.org-table-content .el-table th div{padding-left:20px;color:#333\n}\n.org-table-content .el-table--border td{border-right:1px solid #e5e5e5\n}\n.org-table-content .el-table--enable-row-hover .el-table__body tr:hover>td{background-color:#e2eefd\n}\n.org-table-content .el-table tr{height:60px\n}",""])},"23dd":function(e,t,n){"use strict";var a=n("ef0f"),r=n.n(a);r.a},2610:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"\n.org-manage-main-content[data-v-b26ae1c0]{background-color:#fff\n}\n.org-manage-main-content button[data-v-b26ae1c0]{width:80px;height:30px;border-radius:2px;padding:0 24px\n}\n.org-manage-main-content .add-new-btn[data-v-b26ae1c0]{padding:0 16px\n}\n.org-manage-main-content .row-padding[data-v-b26ae1c0]{padding:.5rem 1rem 0 2rem\n}\n.org-manage-main-content .title-padding[data-v-b26ae1c0]{padding:0 0 0 2rem\n}\n.org-manage-main-content .top-button-style[data-v-b26ae1c0]{display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end\n}\n.org-manage-main-content .trade-name[data-v-b26ae1c0]{font-size:18px;color:#333;font-weight:600\n}\n.org-manage-main-content .query-contidion-area[data-v-b26ae1c0]{padding-top:20px\n}\n.org-manage-main-content .input-magin[data-v-b26ae1c0]{width:70%;margin-left:10px\n}\n.org-manage-main-content .input-special-magin[data-v-b26ae1c0]{width:66%;margin-left:10px\n}\n.org-manage-main-content .separate-line[data-v-b26ae1c0]{border-bottom:5px solid #f6f6f6\n}\n.org-manage-main-content .query-contion-magin[data-v-b26ae1c0]{margin-left:72px\n}\n.org-manage-main-content .magin-10[data-v-b26ae1c0]{margin-top:10px\n}\n.org-manage-main-content .magin-15[data-v-b26ae1c0]{margin-top:15px\n}\n.org-manage-main-content label[data-v-b26ae1c0]{font-size:14px;color:#666\n}",""])},3286:function(e,t,n){"use strict";var a=n("c74b"),r=n.n(a);r.a},"3c9e":function(e,t,n){"use strict";var a=n("8fc5"),r=n.n(a);r.a},"5a4e":function(e,t,n){var a=n("5ca9");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("499e").default;r("7c604568",a,!0,{sourceMap:!1,shadowMode:!1})},"5ca9":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"\n.org-dialog-content .el-dialog__wrapper{left:70%\n}\n.org-dialog-content .el-dialog__wrapper>div:first-child{min-width:36rem\n}\n.org-dialog-content .el-dialog__header span{font-size:16px;font-weight:700\n}\n.org-dialog-content button{width:80px;height:30px;border-radius:4px;padding:0 24px\n}\n.org-dialog-content .phone-area{float:left\n}\n.org-dialog-content .input-style{margin-left:10px;width:80%\n}\n.org-dialog-content .border-style{border-bottom:3px solid #f6f6f6\n}\n.org-dialog-content .item-padding{padding-top:20px\n}\n.org-dialog-content .address-padding{padding-top:1.5rem\n}\n.org-dialog-content #bottomBoder{padding:42% 0 0 0\n}\n.org-dialog-content .error-msg{color:#ed5013;font-size:10px;margin:0 6.8rem\n}\n.org-dialog-content nobr>span{display:inline-block;width:6rem;text-align:right\n}\n.org-dialog-content .must-input{color:#ed5013\n}\n.org-dialog-content .phone-first-item{width:15%;margin-left:10px\n}\n.org-dialog-content .phone-second-item{width:15%\n}\n.org-dialog-content .phone-thrid-item{width:30%\n}\n.org-dialog-content .phone-forth-item{width:20%\n}\n.org-dialog-content .phone-first-item input{border-radius:5px 0 0 5px\n}\n.org-dialog-content .phone-second-item input,.org-dialog-content .phone-thrid-item input{border-radius:0\n}\n.org-dialog-content .phone-forth-item input{border-radius:0 5px 5px 0\n}\n.org-dialog-content .el-dialog__title{font-weight:700\n}\n.org-dialog-content .el-dialog__body{padding:10px 20px\n}\n@-webkit-keyframes dialog-fade-in{\n0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0\n}\nto{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1\n}\n}\n@keyframes dialog-fade-in{\n0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0\n}\nto{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1\n}\n}\n@-webkit-keyframes dialog-fade-out{\n0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1\n}\nto{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0\n}\n}\n@keyframes dialog-fade-out{\n0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1\n}\nto{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0\n}\n}",""])},6280:function(e,t,n){"use strict";var a=n("5a4e"),r=n.n(a);r.a},"8d50":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"\n.org-detail-content .el-dialog__wrapper{left:70%\n}\n.org-detail-content .el-dialog__wrapper>div:first-child{min-width:36rem\n}\n.org-detail-content button{width:80px;height:30px;border-radius:4px;padding:0 24px\n}\n.org-detail-content .el-dialog__body{padding:10px 20px\n}\n.org-detail-content .el-dialog__title{font-weight:700\n}\n.org-detail-content .el-dialog__header span{font-size:16px;font-weight:700\n}\n.org-detail-content span~label{margin-left:1rem;width:80%\n}\n.org-detail-content .border-style{border-bottom:3px solid #f6f6f6\n}\n.org-detail-content .border-style~div{padding-top:1.8rem\n}\n.org-detail-content #bottomBoder{padding:60% 0 0 0\n}\n.org-detail-content nobr>span{display:inline-block;width:6rem;text-align:right\n}\n@-webkit-keyframes detailDialog-fade-in{\n0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0\n}\nto{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1\n}\n}\n@keyframes detailDialog-fade-in{\n0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0\n}\nto{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1\n}\n}\n@-webkit-keyframes detailDialog-fade-out{\n0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1\n}\nto{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0\n}\n}\n@keyframes detailDialog-fade-out{\n0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1\n}\nto{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0\n}\n}",""])},"8fc5":function(e,t,n){var a=n("2610");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("499e").default;r("963981f0",a,!0,{sourceMap:!1,shadowMode:!1})},9880:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"org-manage-main-content"},[n("el-row",{staticClass:"row-padding"},[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"top-button-style"},[n("el-button",{attrs:{type:"primary"},on:{click:e.queryOrgMsg}},[e._v("查询")]),n("el-button",{on:{click:e.resetContidion}},[e._v("重置")])],1)])],1),n("el-row",{staticClass:"title-padding"},[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"trade-name"},[e._v("机构信息维护")])])],1),n("el-row",{staticClass:"query-contidion-area row-padding"},[n("el-col",{attrs:{span:4,offset:1}},[n("div",[n("nobr",[n("label",[e._v("机构代号")]),n("el-input",{staticClass:"input-magin",attrs:{placeholder:"请输入"},model:{value:e.queryOrgId,callback:function(t){e.queryOrgId=t},expression:"queryOrgId"}})],1)],1)]),n("el-col",{staticClass:"query-contion-magin",attrs:{span:5}},[n("div",[n("nobr",[n("label",[e._v("机构中文名称")]),n("el-input",{staticClass:"input-special-magin",attrs:{placeholder:"请输入"},model:{value:e.queryOrgName,callback:function(t){e.queryOrgName=t},expression:"queryOrgName"}})],1)],1)]),n("el-col",{staticClass:"query-contion-magin",attrs:{span:4}},[n("div",[n("nobr",[n("label",[e._v("机构级别")]),n("el-select",{staticClass:"input-magin",attrs:{placeholder:"请选择"},model:{value:e.queryOrgLevel,callback:function(t){e.queryOrgLevel=t},expression:"queryOrgLevel"}},e._l(e.orgLevelList,function(e){return n("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1)],1)]),n("el-col",{staticClass:"query-contion-magin",attrs:{span:4}},[n("div",[n("nobr",[n("label",[e._v("机构类型")]),n("el-select",{staticClass:"input-magin",attrs:{placeholder:"请选择"},model:{value:e.queryOrgType,callback:function(t){e.queryOrgType=t},expression:"queryOrgType"}},e._l(e.orgTypeList,function(e){return n("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1)],1)])],1),n("el-row",{staticClass:"magin-15"},[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"separate-line"})])],1),n("el-row",{staticClass:"row-padding magin-10"},[n("el-col",{attrs:{span:24}},[n("div",[n("el-button",{staticClass:"add-new-btn",attrs:{type:"primary",icon:"el-icon-document"},on:{click:e.addNewItem}},[e._v("新建")])],1)])],1),n("orgTable",{ref:"dataTable"}),n("orgDialog",{ref:"addDialog",on:{needQueryData:function(t){e.queryOrgInfo()}}})],1)},r=[],o=(n("96cf"),n("1da1")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"org-table-content"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","header-cell-style":e.headerStyle,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{label:"机构代号",width:"216"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.id))]}}])}),n("el-table-column",{attrs:{prop:"name",label:"机构名称"}}),n("el-table-column",{attrs:{prop:"levelName",label:"机构级别",width:"235"}}),n("el-table-column",{attrs:{prop:"typeName",label:"机构类型",width:"230"}}),n("el-table-column",{attrs:{prop:"busSupName",label:"业务管理上级",width:"230"}}),n("el-table-column",{attrs:{label:"操作",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(n){e.handleDetail(t.$index,t.row)}}},[e._v("详情")]),n("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(n){e.handleSingleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e.totalNum>10?n("el-row",[n("el-col",{attrs:{span:22}},[n("div",{staticClass:"pagenation-style"},[n("el-pagination",{attrs:{"current-page":e.currentPage,background:"","page-sizes":[100,200,300,400],"page-size":e.pagesize,layout:"prev, pager, next, jumper",total:e.totalNum},on:{"current-change":e.handleCurrentChange}})],1)]),n("el-col",{attrs:{span:2}},[n("div",{staticClass:"pagenation-style"},[n("el-select",{staticClass:"pagenation-magin",attrs:{placeholder:"请选择"},on:{change:e.reQuery},model:{value:e.pagesize,callback:function(t){e.pagesize=t},expression:"pagesize"}},e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)])],1):e._e(),n("el-dialog",{attrs:{visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("span",[e._v("确定删除该机构信息吗")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.deleteOperation}},[e._v("确 定")])],1)]),n("editDialog",{ref:"editDialog",on:{needQueryData:function(t){e.queryOrgInfo("currOrgId","currLevelId","currOrgName","currOrgType",!0)}}}),n("detailDialog",{ref:"detailDialog"})],1)},i=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"org-dialog-content"},[n("transition",{attrs:{name:"dialog"}},[n("el-dialog",{attrs:{title:e.dialogTitle,visible:e.isShowdialog,width:"30%",top:"0",fullscreen:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.isShowdialog=t}}},[n("div",{staticClass:"border-style"}),n("div",{staticClass:"item-padding"},[n("nobr",[n("span",[n("span",{staticClass:"must-input"},[e._v("*")]),e._v("\n            机构代号\n          ")]),n("el-input",{staticClass:"input-style",attrs:{id:"orgid",placeholder:"",disabled:e.isEdit},on:{blur:function(t){e.validateInput("orgid","机构代号","orgIdMsg","queryOrgById")}},model:{value:e.orgid,callback:function(t){e.orgid=t},expression:"orgid"}})],1)],1),n("div",{staticClass:"error-msg"},[e._v(e._s(e.orgIdMsg))]),n("div",{staticClass:"item-padding"},[n("nobr",[n("span",[n("span",{staticClass:"must-input"},[e._v("*")]),e._v("\n            机构中文名称\n          ")]),n("el-input",{staticClass:"input-style",attrs:{id:"name",placeholder:""},on:{blur:function(t){e.validateInput("name","机构中文名称","nameMsg")}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),n("div",{staticClass:"error-msg"},[e._v(e._s(e.nameMsg))]),n("div",{staticClass:"item-padding"},[n("nobr",[n("span",[n("span",{staticClass:"must-input"},[e._v("*")]),e._v("\n            办公电话\n          ")]),n("el-input",{staticClass:"phone-first-item",model:{value:e.phoneCountry,callback:function(t){e.phoneCountry=t},expression:"phoneCountry"}}),n("el-input",{staticClass:"phone-second-item",attrs:{placeholder:"区号"},model:{value:e.phoneArea,callback:function(t){e.phoneArea=t},expression:"phoneArea"}}),n("el-input",{staticClass:"phone-thrid-item",attrs:{id:"phoneNo",placeholder:"座机号码"},on:{blur:function(t){e.validateInput("phoneNo","座机号码","phoneNoMsg")}},model:{value:e.phoneNo,callback:function(t){e.phoneNo=t},expression:"phoneNo"}}),n("el-input",{staticClass:"phone-forth-item",attrs:{placeholder:"分机号"},model:{value:e.phoneSubNo,callback:function(t){e.phoneSubNo=t},expression:"phoneSubNo"}})],1)],1),n("div",{staticClass:"error-msg"},[e._v(e._s(e.phoneNoMsg))]),n("div",{staticClass:"address-padding"},[n("nobr",[n("span",[n("span",{staticClass:"must-input"},[e._v("*")]),e._v("\n            通讯地址\n          ")]),n("el-cascader",{staticClass:"input-style",attrs:{options:e.addressSpareArray,placeholder:"请选择省市区"},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1)],1),n("div",{staticClass:"item-padding"},[n("nobr",[n("span"),n("el-input",{staticClass:"input-style",attrs:{id:"address",placeholder:"请输入街道名、小区、楼栋号、单元号"},on:{blur:function(t){e.validateInput("address","详细地址","addressMsg")}},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1)],1),n("div",{staticClass:"error-msg"},[e._v(e._s(e.addressMsg))]),n("div",{staticClass:"item-padding"},[n("nobr",[n("span",[n("span",{staticClass:"must-input"},[e._v("*")]),e._v("\n            机构类型\n          ")]),n("el-select",{staticClass:"input-style",on:{change:e.orgTypeChange},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},e._l(e.orgTypeArray,function(e){return n("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1)],1),n("div",{staticClass:"item-padding"},[n("nobr",[n("span",{},[n("span",{staticClass:"must-input"},[e._v("*")]),e._v("\n            机构级别\n          ")]),n("el-select",{staticClass:"input-style",on:{change:e.setBusinessSup},model:{value:e.selectedLevel,callback:function(t){e.selectedLevel=t},expression:"selectedLevel"}},e._l(e.orgLevelArray,function(e){return n("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1)],1),n("div",{staticClass:"item-padding"},[n("nobr",[n("span",[n("span",{staticClass:"must-input"},[e._v("*")]),e._v("\n            报表查询级别\n          ")]),n("el-select",{staticClass:"input-style",attrs:{disabled:e.isNotManDep},model:{value:e.reportLevel,callback:function(t){e.reportLevel=t},expression:"reportLevel"}},e._l(e.orgReportLevelArray,function(e){return n("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1)],1),n("div",{staticClass:"item-padding"},[n("nobr",[n("span",[n("span",{staticClass:"must-input"},[e._v("*")]),e._v("\n            业务管理上级\n          ")]),n("el-select",{staticClass:"input-style",model:{value:e.businessSuperior,callback:function(t){e.businessSuperior=t},expression:"businessSuperior"}},e._l(e.businessSupArray,function(e){return n("el-option",{key:e.key,attrs:{label:e.orgNameCn,value:e.orgId}})}))],1)],1),n("div",{staticClass:"item-padding"},[n("nobr",[n("span",[e._v("账务机构")]),n("el-select",{staticClass:"input-style",model:{value:e.accountOrg,callback:function(t){e.accountOrg=t},expression:"accountOrg"}},e._l(e.accountOrgArray,function(e){return n("el-option",{key:e.key,attrs:{label:e.orgNameCn,value:e.orgId}})}))],1)],1),n("div",{staticClass:"border-style",attrs:{id:"bottomBoder"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.isShowdialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",disabled:e.isSaveUseable},on:{click:e.submitData}},[e._v("保 存")])],1)])],1)],1)},d=[],c=(n("7f7f"),n("dde5")),p=n("5e9c"),u=n("b925"),g={name:"orgManageDialog",data:function(){return{flag:!1,isEdit:!1,isShowdialog:!1,isNotManDep:!1,orgid:"",name:"",selectedLevel:"",orgLevelArray:[],selectedType:"",orgTypeArray:[],phoneCountry:"",phoneArea:"",phoneNo:"",phoneSubNo:"",address:"",reportLevel:"",orgReportLevelArray:[],businessSuperior:"",businessSupArray:[],accountOrg:"",accountOrgArray:[],dialogTitle:"",selectedOptions:[],addressSpareArray:u.address,orgIdMsg:"",nameMsg:"",phoneNoMsg:"",addressMsg:""}},mounted:function(){this.getSpareData()},methods:{addNewItem:function(){this.isShowdialog=!0,this.isEdit=!1,this.dialogTitle="新建用户信息",this.orgid="",this.name="",this.phoneCountry="86",this.phoneArea="",this.phoneNo="",this.phoneSubNo="",this.selectedOptions=[],this.address="",this.selectedType="",this.selectedLevel="",this.reportLevel="",this.businessSuperior="",this.accountOrg="",this.accountOrgArray=[],this.orgIdMsg="",this.nameMsg="",this.phoneNoMsg="",this.addressMsg="",null!==document.getElementById("orgid")&&(document.getElementById("orgid").style.borderColor="#dcdfe6",document.getElementById("name").style.borderColor="#dcdfe6",document.getElementById("phoneNo").style.borderColor="#dcdfe6",document.getElementById("address").style.borderColor="#dcdfe6")},editItem:function(e){this.isShowdialog=!0,this.isEdit=!0,this.dialogTitle="修改用户信息",this.orgid=e.orgId||"",this.name=e.orgNameCn||"",this.setBusinessSup(e.orgLevelId),this.orgTypeChange(e.orgTypeId),this.phoneCountry=e.phoneCountry||"",this.phoneArea=e.phoneArea||"",this.phoneNo=e.phoneNo||"",this.phoneSubNo=e.phoneSubNo||"",this.selectedOptions=[e.addressProvince,e.addressCounty,e.addressCity],this.address=e.address||"",this.selectedType=e.orgTypeId||"",this.selectedLevel=e.orgLevelId||"",this.reportLevel=e.reportSuperior||"",this.businessSuperior=e.querySuperior||"",this.accountOrg=e.accountSuperior||""},getSpareData:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,c["a"].api.base.common.getSpareData();case 4:n=e.sent,t.orgLevelArray=n.orgLevelList||[],t.orgTypeArray=n.orgTypeList||[],t.orgReportLevelArray=n.reportLevelList||[],e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$message({message:e.t0.message,type:"error"});case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}(),submitData:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,e.prev=1,n=new c["a"].bean.manage.OrgInfoDomain({orgId:t.orgid,orgNameCn:t.name,phoneCountry:t.phoneCountry,phoneArea:t.phoneArea,phoneNo:t.phoneNo,phoneSubNo:t.phoneSubNo,addressProvince:t.selectedOptions[0],addressCounty:t.selectedOptions[1],addressCity:t.selectedOptions[2],address:t.address,orgTypeId:t.selectedType,orgLevelId:t.selectedLevel,mediumTypeId:"1",addressCountry:"CHN",reportSuperior:t.reportLevel,querySuperior:t.businessSuperior,accountSuperior:t.accountOrg,orgStatusTypeId:"1"}),!t.isEdit){e.next=8;break}return e.next=6,c["a"].api.manage.orgInfo.update(t.orgid,n);case 6:e.next=10;break;case 8:return e.next=10,c["a"].api.manage.orgInfo.add(n);case 10:this.$emit("needQueryData"),t.isShowdialog=!1,e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),t.$message({message:e.t0.message,type:"error"});case 17:case"end":return e.stop()}},e,this,[[1,14]])}));return function(){return e.apply(this,arguments)}}(),setBusinessSup:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this,e.prev=1,n.businessSupArray=[],e.next=5,c["a"].api.manage.orgInfo.selectQuerySuperior(t);case 5:n.businessSupArray=e.sent,"4"!==n.selectedType&&(n.isNotManDep=!0,n.reportLevel=t),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),n.$message({message:e.t0.message,type:"error"});case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),validateInput:function(e,t,n,a){""===this[e]?(this[n]=t+"不能为空",document.getElementById(e).style.borderColor="#ED5013"):(this[n]="",document.getElementById(e).style.borderColor="#dcdfe6",a&&this[a]())},queryOrgById:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n={id:t.orgid,name:"",type:"",level:"",userOrgId:p["a"].getStore({key:"orgId"})},e.prev=2,e.next=5,c["a"].api.base.org.selectByPage(n,0,1);case 5:a=e.sent,a.list&&a.list.length>0&&(this.orgIdMsg="该机构号已存在",document.getElementById("orgid").style.borderColor="#ED5013"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),t.$message({message:e.t0.message,type:"error"});case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}(),orgTypeChange:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=this,n.accountOrgArray=[],"1"!==t){e.next=6;break}n.accountOrgArray=[{orgId:n.orgid,orgNameCn:n.name}],e.next=15;break;case 6:return e.prev=6,e.next=9,c["a"].api.manage.orgInfo.selectAccountSuperior(t);case 9:n.accountOrgArray=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](6),n.$message({message:e.t0.message,type:"error"});case 15:"4"!==t?(n.reportLevel=n.selectedLevel,n.isNotManDep=!0):n.isNotManDep=!1;case 16:case"end":return e.stop()}},e,this,[[6,12]])}));return function(t){return e.apply(this,arguments)}}()},watch:{name:function(e){"1"===this.selectedType&&(this.accountOrgArray=[{orgId:this.orgid,orgNameCn:e}])}},computed:{isSaveUseable:function(){return""===this.orgid||""===this.name||""===this.selectedLevel||""===this.selectedType||""===this.phoneNo||""===this.address||""===this.reportLevel||""===this.businessSuperior||0===this.selectedOptions||""!==this.orgIdMsg}}},m=g,h=(n("6280"),n("2877")),b=Object(h["a"])(m,l,d,!1,null,null,null);b.options.__file="orgManageDialog.vue";var f=b.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"org-detail-content"},[n("transition",{attrs:{name:"detailDialog"}},[n("el-dialog",{attrs:{title:"机构信息详情",visible:e.isShowdialog,width:"30%",top:"0",fullscreen:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.isShowdialog=t}}},[n("div",{staticClass:"border-style"}),n("div",[n("nobr",[n("span",[e._v("\n            机构代号\n          ")]),n("label",[e._v(e._s(e.orgid))])])],1),n("div",[n("nobr",[n("span",[e._v("\n            机构中文名称\n          ")]),n("label",[e._v(e._s(e.name))])])],1),n("div",[n("nobr",[n("span",[e._v("\n            办公电话\n          ")]),n("label",[e._v(e._s(e.orgPhone))])])],1),n("div",[n("nobr",[n("span",[e._v("\n            通讯地址\n          ")]),n("label",[e._v(e._s(e.address))])])],1),n("div",[n("nobr",[n("span"),n("label",[e._v(e._s(e.detailAddress))])])],1),n("div",[n("nobr",[n("span",[e._v("\n            机构类型\n          ")]),n("label",[e._v(e._s(e.orgType))])])],1),n("div",[n("nobr",[n("span",{},[e._v("\n            机构级别\n          ")]),n("label",[e._v(e._s(e.orgLevel))])])],1),n("div",[n("nobr",[n("span",[e._v("\n            报表查询级别\n          ")]),n("label",[e._v(e._s(e.reportLevel))])])],1),n("div",[n("nobr",[n("span",[e._v("\n            业务管理上级\n          ")]),n("label",[e._v(e._s(e.businessSuperior))])])],1),n("div",[n("nobr",[n("span",[e._v("\n            账务机构\n          ")]),n("label",[e._v(e._s(e.accountOrg))])])],1),n("div",{staticClass:"border-style",attrs:{id:"bottomBoder"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.close}},[e._v("关 闭")])],1)])],1)],1)},y=[],w={name:"orgDetailDialog",data:function(){return{value:"",isShowdialog:!1,orgid:"",name:"",orgLevel:"",orgType:"",orgPhone:"",address:"",reportLevel:"",businessSuperior:"",accountOrg:"",detailAddress:""}},mounted:function(){},methods:{showItem:function(e){this.isShowdialog=!0,this.orgid=e.orgId||"",this.name=e.orgNameCn||"",this.orgPhone=(e.phoneCountry||"")+"-"+(e.phoneArea||"")+"-"+(e.phoneNo||"")+"-"+(e.phoneSubNo||""),this.detailAddress=e.address||"",this.orgType=e.orgTypeDesc||"",this.orgLevel=e.orgLevelDesc||""},close:function(){this.isShowdialog=!1}},watch:{}},_=w,x=(n("23dd"),Object(h["a"])(_,v,y,!1,null,null,null));x.options.__file="orgManageDetailDialog.vue";var k=x.exports,C={name:"orgManageTable",data:function(){return{options:[{value:10,label:"10条/页"},{value:30,label:"30条/页"},{value:50,label:"50条/页"},{value:100,label:"100条/页"}],currentPage:0,pagesize:10,dialogVisible:!1,headerStyle:{background:"#fafafa",color:"#000"},needDeleteData:{},tableData:[],currOrgId:"",currLevelId:"",currOrgName:"",currOrgType:"",totalNum:0}},mounted:function(){},components:{editDialog:f,detailDialog:k},methods:{handleCurrentChange:function(e){this.currentPage=e,this.queryOrgInfo(this.currOrgId,this.currLevelId,this.currOrgName,this.currOrgType,!0)},handleSingleDelete:function(e,t){this.needDeleteData={},this.dialogVisible=!0,this.needDeleteData=t},deleteOperation:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,c["a"].api.manage.orgInfo.updateStatusById(t.needDeleteData.orgId);case 4:t.dialogVisible=!1,t.queryOrgInfo(t.currOrgId,t.currLevelId,t.currOrgName,t.currOrgType,!0),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$message({message:e.t0.message,type:"error"});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),handleSelectionChange:function(e){this.needDeleteData=e},handleEdit:function(e,t){this.$refs.editDialog.editItem(t)},handleDetail:function(e,t){this.$refs.detailDialog.showItem(t)},queryOrgInfo:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n,a,r,o){var s,i,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=this,s.tableData=[],o||(s.currOrgId=t,s.currLevelId=a,s.currOrgName=n,s.currOrgType=r),i={id:t,name:n,type:r,level:a,userOrgId:p["a"].getStore({key:"orgId"})},e.prev=4,e.next=7,c["a"].api.base.org.selectByPage(i,s.currentPage,s.pagesize);case 7:l=e.sent,s.tableData=l.list,s.totalNum=l.total,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](4),s.$message({message:e.t0.message,type:"error"});case 15:case"end":return e.stop()}},e,this,[[4,12]])}));return function(t,n,a,r,o){return e.apply(this,arguments)}}(),reQuery:function(){this.queryOrgInfo(this.currOrgId,this.currLevelId,this.currOrgName,this.currOrgType,!0)}},watch:{}},O=C,I=(n("3286"),Object(h["a"])(O,s,i,!1,null,null,null));I.options.__file="orgManageTable.vue";var S=I.exports,N={name:"org_manager",data:function(){return{queryOrgId:"",queryOrgName:"",queryOrgLevel:"",orgLevelList:[],queryOrgType:"",orgTypeList:[]}},mounted:function(){this.getArguService()},activated:function(){},components:{orgTable:S,orgDialog:f},methods:{addNewItem:function(){this.$refs.addDialog.addNewItem()},queryOrgMsg:function(){this.$refs.dataTable.queryOrgInfo(this.queryOrgId,this.queryOrgName,this.queryOrgLevel,this.queryOrgType)},resetContidion:function(){this.queryOrgId="",this.queryOrgName="",this.queryOrgLevel="",this.queryOrgType=""},getArguService:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,c["a"].api.base.common.getSpareData();case 4:n=e.sent,t.orgLevelList=n.orgLevelList||[],t.orgTypeList=n.orgTypeList||[],e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),t.$message({message:e.t0.message,type:"error"});case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},watch:{}},L=N,D=(n("3c9e"),Object(h["a"])(L,a,r,!1,null,"b26ae1c0",null));D.options.__file="orgManage.vue";t["default"]=D.exports},c74b:function(e,t,n){var a=n("0e21");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("499e").default;r("624be036",a,!0,{sourceMap:!1,shadowMode:!1})},ef0f:function(e,t,n){var a=n("8d50");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("499e").default;r("baf603a8",a,!0,{sourceMap:!1,shadowMode:!1})}}]);